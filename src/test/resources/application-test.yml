micronaut:
  environment:
    - test

solr9-test-port: ${random.port}
solr7-test-port: ${random.port}

indexer:
  vector-grpc-channel: "localhost:${grpc-test-client-config.vectorizer.grpc-test-port}"
  chunker-grpc-channel: "localhost:${grpc-test-client-config.chunker.grpc-test-port}"
  source-seed-data:
    enabled: false
    seed-json-file: sample_solr_result.json

solr-config:
  source:
    version: 7.7.3
    collection: source_collection
    connection:
      url: http://localhost:${solr7-test-port}/solr
      authentication:
        enabled: false
  destination:
    version: 9.6.1
    collection: destination_collection
    connection:
      url: http://localhost:${solr9-test-port}/solr
      authentication:
        enabled: true
        type: jwt
        client-secret: my-client-secret
        client-id: my-client-id
        issuer: https://my-token-url.com/oauth2/some-token/v1/token
        issuerAuthId: issuer-auth-id
        subject: your-subject

vector-config:
  title:
    chunk-overlap: 30
    chunk-size: 300
    model: mini-LM
    dimensions: 384
    destination-collection: title_vector
    destination-collection-create: true
    destination-collection-vector-field-name: title_mini_lm
  body:
    chunk-overlap: 30
    chunk-size: 300
    model: mini-LM
    dimensions: 384
    destination-collection: body_vector
    destination-collection-create: true
    destination-collection-vector-field-name: title_mini_lm



grpc-test-client-config:
  chunker:
    grpc-test-port: ${random.port}
    grpc-mapped-port: 50403
    rest-test-port: ${random.port}
    rest-mapped-port: 60403
    docker-image-name: krickert/chunker:1.0-SNAPSHOT

  vectorizer:
    grpc-test-port: ${random.port}
    grpc-mapped-port: 50401
    rest-test-port: ${random.port}
    rest-mapped-port: 60401
    docker-image-name: krickert/vectorizer:1.0-SNAPSHOT

